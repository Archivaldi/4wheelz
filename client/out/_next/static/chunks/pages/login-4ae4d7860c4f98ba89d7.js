_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{SGa5:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var a=n("q1tI"),r=n.n(a),o=n("L4PR"),s=n("30+C"),i=n("oa/T"),c=n("ofer"),l=n("r9w1"),u=n("wx14"),d=n("Ff2n"),p=(n("17x9"),n("iuhU")),g=n("H2TA"),f=a.forwardRef((function(e,t){var n=e.disableSpacing,r=void 0!==n&&n,o=e.classes,s=e.className,i=Object(d.a)(e,["disableSpacing","classes","className"]);return a.createElement("div",Object(u.a)({className:Object(p.a)(o.root,s,!r&&o.spacing),ref:t},i))})),y=Object(g.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(f),m=n("Z3vd"),b=n("o0o1"),h=n.n(b);function v(e,t,n,a,r,o,s){try{var i=e[o](s),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(a,r)}var w=n("kfFl"),j=n("yv+Y"),x=n("EQI2"),S=n("++HY"),N=n("+JwS"),C="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),T=new Uint8Array(16);function O(){if(!C)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C(T)}for(var k=[],A=0;A<256;++A)k[A]=(A+256).toString(16).substr(1);var R=function(e,t){var n=t||0,a=k;return[a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]]].join("")};var E={message:["I am authenticated, by the way I type."],route:{signUp:"/api/typing-dna/signup",verify:"/api/typing-dna/verify"},userId:function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||O)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;o<16;++o)t[a+o]=r[o];return t||R(r)}()},P=n("R/WZ"),I=Object(P.a)((function(e){return{content:{minHeight:230},typos:{color:"rgba(255, 255, 255, 0.7)"},currentChar:{borderTopLeftRadius:"2px",borderBottomLeftRadius:"2px",background:"#62bdf9",color:"#212121"},charsToBeTyped:{background:"#0081cb",borderTopRightRadius:"2px",borderBottomRightRadius:"2px"},welcome:{textAlign:"center"}}})),_=r.a.createElement;function W(e){var t=e.open,n=e.handleDialogClose,o=I(),s=o.content,i=o.typos,u=o.currentChar,d=o.charsToBeTyped,p=o.welcome,g=E.message,f=E.route,y=E.userId,b=Object(a.useState)(y)[0],C=Object(a.useState)(!1),T=C[0],O=C[1],k=Object(a.useState)(!1),A=k[0],R=k[1],P=Object(a.useState)(0),W=P[0],F=P[1],B=Object(a.useState)(0),D=B[0],H=B[1],z=Object(a.useState)(""),L=z[0],V=z[1],G=Object(a.useRef)(),J=function(){G.current.start(),O(!1),V(""),F(W+1),D===g.length-1?H(0):H(D+1)},U=function(){G.current.reset(),O(!1),H(0),n()},q=function(){var e,t=(e=h.a.mark((function e(){var t,n,a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G.current.stop(),O(!0),e.next=4,G.current.getTypingPattern({type:0,text:L});case 4:if(t=e.sent,n=G.current.getQuality(t),console.log(n),!(n>.3)){e.next=19;break}return e.next=10,fetch(f.signUp,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({typingPattern:t,patternQuality:n,authSession:W,userID:b,input:L})});case 10:return a=e.sent,e.next=13,a.json();case 13:r=e.sent,o=r.message,console.log(o),200===a.status?(J(),1===o.result&&1===o.enrollment&&R(!0)):(alert("An error occurred on our end. Please refresh and try again."),J()),e.next=20;break;case 19:J();case 20:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){v(o,a,r,s,i,"next",e)}function i(e){v(o,a,r,s,i,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){G.current||(G.current=new TypingDNA)}),[G]),Object(a.useEffect)((function(){L.length===g[D].length&&q()}),[L]),_("div",null,_(w.a,{open:t,onClose:U,"aria-labelledby":"form-dialog-title"},_(j.a,{id:"form-dialog-title"},_("img",{width:"200",src:"https://github.com/Archivaldi/4wheelz/blob/master/client/src/images/ShoppedTypingDNA.png?raw=true"})),_(x.a,{className:s},_(S.a,null,_("span",null,"To ensure the highest level of security, we are using a technology that will test who you are by the way you type! ",!A&&_("span",null,"Please note, it may take up to 5 attempts."))),_(c.a,{variant:"body1",component:"body1"},A?_("h3",{className:p},"Welcome ",b):_(r.a.Fragment,null,_("span",null,"Please type ",_("span",{className:i},"(typos accepted)"),":"," ",g[D].substring(0,L.length),_("span",{className:u},g[D].charAt(L.length)),_("span",{className:d},g[D].substring(L.length+1,g[D].length))),_(l.a,{autoFocus:!0,inputProps:{spellCheck:"false"},autoComplete:"off",margin:"dense",id:"Tdna",label:"Type Phrase Here",color:"secondary",value:L,disabled:T,onChange:function(e){return V(e.target.value)},fullWidth:!0})))),_(N.a,null,_(m.a,{onClick:U,color:"secondary"},"Go Back"))))}var F=r.a.createElement;function B(e){var t=(0,e.useStyles)(),n=t.root,o=t.brand,u=t.auto,d=t.arbiTrader,p=t.buttons,g=t.logo,f=Object(a.useState)(null),b=f[0],h=f[1],v=Object(a.useState)(!1),w=v[0],j=v[1],x=function(e){h(e)};return Object(a.useEffect)((function(){"seller"===b&&j(!0)}),[b]),F(r.a.Fragment,null,F(W,{open:w,handleDialogClose:function(){j(!1),h(null)}}),F(s.a,{className:n},F(i.a,null,F("div",{className:o},F("img",{src:"https://github.com/Archivaldi/4wheelz/blob/master/client/src/images/AutoArbiTraderLogo.png?raw=true",alt:"logo",className:g}),F(c.a,{variant:"h5",noWrap:!0},F("span",{className:u},"auto")," ",F("span",{className:d},"arbi-trader"))),"buyer"==b?F(l.a,{color:"secondary",id:"standard-required",label:"Transaction ID",required:!0}):F(c.a,{variant:"h6",color:"textSecondary"},"Welcome! What role will you be needing assistance in your transaction today?")),F(y,{className:p},"buyer"==b?F(r.a.Fragment,null,F(m.a,{size:"large",color:"secondary",onClick:function(){return x(null)}},"Go Back"),F(m.a,{size:"large",color:"secondary"},"Submit")):F(r.a.Fragment,null,F(m.a,{size:"large",color:"secondary",onClick:function(){return x("buyer")}},"Buying"),F(m.a,{size:"large",color:"secondary",onClick:function(){return x("seller")}},"Selling")))))}var D=Object(P.a)((function(e){return{page:{display:"flex",height:"100vh",justifyContent:"center",alignItems:"center"},root:{minWidth:275,maxWidth:300,display:"flex",flexDirection:"column",alignItems:"center"},brand:{display:"grid",gridAutoFlow:"column",justifyContent:"center",alignItems:"center"},logo:{maxWidth:50,padding:e.spacing(1),paddingLeft:e.spacing(0)},auto:{color:"#62bdf9"},arbiTrader:{color:"#0081cb"},buttons:{display:"flex",width:"100%",justifyContent:"space-around",margin:"6px"},dialog:{minHeight:160}}})),H=r.a.createElement;function z(){o.a.buyer,o.a.seller;var e=D().page;return H("div",{className:e},H(B,{useStyles:D}))}},u6Hu:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n("SGa5")}])}},[["u6Hu",0,2,1,4,5,7]]]);